{"version":3,"sources":["BuckManager.js"],"names":[],"mappings":";;;;;;;;;;;;;;;IAasB,gBAAgB,qBAA/B,WAAgC,WAAW,EAAE,YAAY,EAAE;AAChE,MAAI,QAAQ,GAAG,kBAAK,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;AAC/C,SAAO,aAAY,UAAC,OAAO,EAAE,MAAM,EAAK;AACtC,oBAAG,KAAK,CAAC,YAAY,EAAE,UAAU,GAAG,EAAE;AACpC,UAAI,GAAG,EAAE,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;AAC5B,sBAAG,SAAS,CAAC,QAAQ,EAAE,WAAW,EAAE;AAClC,gBAAQ,EAAE,MAAM;OACjB,EAAE,UAAC,GAAG,EAAK;AACV,YAAI,GAAG,EAAE,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;AAC5B,eAAO,EAAE,CAAC;OACX,CAAC,CAAC;KACJ,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ;;;;kBA1Bc,IAAI;;;;oBACF,MAAM;;;;gCACa,sBAAsB;;;;AAEnD,SAAS,0BAA0B,CAAC,OAAO,EAAE,oBAAoB,EAAE;AACxE,MAAI,YAAY,GAAG,EAAE,CAAC;AACtB,eAAY,OAAO,CAAC,CAAC,OAAO,CAAC,UAAA,CAAC,EAAI;AAChC,gBAAY,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAA,CAAC;mBAAQ,oBAAoB,SAAI,CAAC,CAAC,IAAI,SAAI,CAAC,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC,CAAC;KAAG,CAAC,CAAC;GAC/H,CAAC,CAAC;;AAEH,SAAO,mCAAwB,YAAY,CAAC,CAAC;CAC9C","file":"BuckManager.js","sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport buckDefinitionsTemplate from './templates/rem/DEFS';\n\nexport function buildDefinitionsForTargets(targets, nodeModulesDirectory) {\n  let dependencies = {};\n  Object.keys(targets).forEach(t => {\n    dependencies[t] = targets[t].packages.map(p => `/${nodeModulesDirectory}/${p.name}/${p.nativePackage.targetDirectories[t]}:`);\n  });\n   \n  return buckDefinitionsTemplate(dependencies);\n}\n\nexport async function writeDefinitions(definitions, remDirectory) {\n  let buckPath = path.join(remDirectory, 'DEFS');\n  return new Promise((resolve, reject) => {\n    fs.mkdir(remDirectory, function (err) {\n      if (err) return reject(err);\n      fs.writeFile(buckPath, definitions, {\n        encoding: 'utf8'\n      }, (err) => {\n        if (err) return reject(err);\n        resolve();\n      });\n    });\n  });\n}"],"sourceRoot":"/source/"}